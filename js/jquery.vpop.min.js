/*! vpop - v1.0.0 - LongZhou <pancnlz@gmail.com> 2013-10-30 */!function(a){var b={};b.Util={mask:function(){var b=a("#vp_mk");b.length<=0&&(b=a("<div>",{"class":"vp_mk",id:"vp_mk"}),b.css({opacity:.3}),a("body").append(b))},show:function(b,c){var d,e,f,g;d=a("#vp_wrap"),d.length<=0&&(d=a("<div>",{"class":"vp_wrap",id:"vp_wrap"}),d.append(a("<h5>",{"class":"vp_t"})).append(a("<a>",{"class":"vp_close",href:"javascript:;"}).html("×")).append(a("<div>",{"class":"v_pop_box"})),a("body").append(d),a("#vp_mk").off("click").on("click",function(){clearTimeout(g),d.addClass("vp_shake"),g=setTimeout(function(){d.removeClass("vp_shake")},500)})),d.find(".vp_t").eq(0).html(c.title),f={alert:function(){return e=a(".vp_alert").eq(0),e.length<=0&&(e=a("<div>",{"class":"vp_alert vp_inner"}),e.append(a("<p>",{"class":"vp_cnt"})).append(a("<a>",{"class":"vp_btn vp_ok",href:"javascript:;"}).html("确定"))),e.find(".vp_cnt").eq(0).html(c.content),e.show(),e},confirm:function(){return e=a(".vp_confirm").eq(0),e.length<=0&&(e=a("<div>",{"class":"vp_confirm vp_inner"}),e.append(a("<p>",{"class":"vp_cnt"})).append(a("<a>",{"class":"vp_btn vp_ok",href:"javascript:;"}).html("确定")).append(a("<a>",{"class":"vp_btn vp_cancel",href:"javascript:;"}).html("取消"))),e.find(".vp_cnt").eq(0).html(c.content),e.show(),e}},d.find(".v_pop_box").eq(0).find(".vp_inner").hide().end().append(f[b]()),d.css({display:"block",opacity:0}),d.css({"margin-left":-d.width()/2-1,"margin-top":-d.height()/2-1,opacity:1}),a("#vp_mk").show()},close:function(b,c){a("#vp_mk").hide(),a("#vp_wrap").hide(),void 0!==c&&"function"==typeof c&&c(b)},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}},a.alert=function(c,d){var e,f,g;f=a.extend({title:"提示",content:c},d),g=function(){a("#vp_wrap").off("click").on("click",".vp_ok, .vp_close",function(){b.Util.close()})},e=function(){b.Util.mask(),b.Util.show("alert",f),g()}()},a.confirm=function(c,d,e){var f,g,h;g=a.extend({title:"提示",content:c},e),h=function(){a("#vp_wrap").off("click").on("click",".vp_close, .vp_cancel",function(){b.Util.close(!1,d)}).on("click",".vp_ok",function(){b.Util.close(!0,d)})},f=function(){b.Util.mask(),b.Util.show("confirm",g),h()}()},a.fn.confirm=function(c,d,e){var f,g,h,i,j,k,l;return f=a(this),g=a.extend({content:c},e),j=function(c){a(window).on("resize",b.Util.debounce(function(){c.filter(":visible").length>0&&showTip()},100))},i=function(){var b;return b=a("#vp_tip"),b.length<=0&&(b=a("<div>",{"class":"vp_tip",id:"vp_tip"}),b.append(a("<p>",{"class":"vp_tip_cnt"})).append(a("<a>",{"class":"vp_min_btn vp_min_ok",href:"javascript:;"}).html("确定")).append(a("<a>",{"class":"vp_min_btn vp_min_cancel",href:"javascript:;"}).html("取消")),j(b)),b.find(".vp_tip_cnt").html(c),b.removeClass("vp_tip_min").removeClass("vp_tip_max").css("opacity",0),b.show(),b},l=function(){a("#vp_tip").off("click").on("click",".vp_min_ok",function(){k(!0,d)}).on("click",".vp_min_cancel",function(){k(!1,d)})},k=function(b,c){a("#vp_tip").hide(),void 0!==c&&"function"==typeof c&&c(b)},showTip=function(){var b,c,d;b=a("#vp_tip"),c=f.offset(),d=b.width(),120>d&&b.addClass("vp_tip_min"),d>240&&b.addClass("vp_tip_max"),b.css({top:c.top-b.outerHeight(),left:c.left-(f.outerWidth()+b.outerWidth())/2,opacity:1})},h=function(){var b;b=i(),a("body").append(b),showTip(),l()},this.each(function(){h()})}}(jQuery);