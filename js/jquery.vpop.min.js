/*! vpop - v1.0.0 - LongZhou <pancnlz@gmail.com> 2013-10-30 */!function(a){var b={};b.Util={mask:function(){var b=a("#vp_mk");b.length<=0&&(b=a("<div>",{"class":"vp_mk",id:"vp_mk"}).css({opacity:.3}),a("body").append(b))},show:function(b,c){var d,e,f,g=a("#vp_wrap");g.length<=0&&(g=a("<div>",{"class":"vp_wrap",id:"vp_wrap"}).append(a("<h5>",{"class":"vp_t"})).append(a("<a>",{"class":"vp_close",href:"javascript:;"}).html("×")).append(a("<div>",{"class":"v_pop_box"})),a("body").append(g),a("#vp_mk").off("click").on("click",function(){clearTimeout(f),g.addClass("vp_shake"),f=setTimeout(function(){g.removeClass("vp_shake")},500)})),g.find(".vp_t").html(c.title),e={alert:function(){return d=a(".vp_alert"),d.length<=0&&(d=a("<div>",{"class":"vp_alert vp_inner"}).append(a("<p>",{"class":"vp_cnt"})).append(a("<a>",{"class":"vp_btn vp_ok",href:"javascript:;"}).html("确定"))),d.find(".vp_cnt").html(c.content).show(),d},confirm:function(){return d=a(".vp_confirm"),d.length<=0&&(d=a("<div>",{"class":"vp_confirm vp_inner"}).append(a("<p>",{"class":"vp_cnt"})).append(a("<a>",{"class":"vp_btn vp_ok",href:"javascript:;"}).html("确定")).append(a("<a>",{"class":"vp_btn vp_cancel",href:"javascript:;"}).html("取消"))),d.find(".vp_cnt").html(c.content).show(),d}},g.find(".v_pop_box").find(".vp_inner").hide().end().append(e[b]()),g.css({display:"block",opacity:0}).css({"margin-left":-g.width()/2-1,"margin-top":-g.height()/2-1,opacity:1}),a("#vp_mk").show()},close:function(b,c){a("#vp_mk").hide(),a("#vp_wrap").hide(),void 0!==c&&"function"==typeof c&&c(b)},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}},a.alert=function(c,d){var e=a.extend({title:"提示",content:c},d),f=function(){a("#vp_wrap").off("click").on("click",".vp_ok, .vp_close",function(){b.Util.close()})};!function(){b.Util.mask(),b.Util.show("alert",e),f()}()},a.confirm=function(c,d,e){var f=a.extend({title:"提示",content:c},e),g=function(){a("#vp_wrap").off("click").on("click",".vp_close, .vp_cancel",function(){b.Util.close(!1,d)}).on("click",".vp_ok",function(){b.Util.close(!0,d)})};!function(){b.Util.mask(),b.Util.show("confirm",f),g()}()},a.fn.confirm=function(c,d){var e=a(this),f=function(c){a(window).on("resize",b.Util.debounce(function(){c.filter(":visible").length>0&&j()},100))},g=function(){var b=a("#vp_tip");return b.length<=0&&(b=a("<div>",{"class":"vp_tip",id:"vp_tip"}).append(a("<p>",{"class":"vp_tip_cnt"})).append(a("<a>",{"class":"vp_min_btn vp_min_ok",href:"javascript:;"}).html("确定")).append(a("<a>",{"class":"vp_min_btn vp_min_cancel",href:"javascript:;"}).html("取消")),f(b)),b.find(".vp_tip_cnt").html(c),b.removeClass("vp_tip_min").removeClass("vp_tip_max").css("opacity",0).show(),b},h=function(){a("#vp_tip").off("click").on("click",".vp_min_ok",function(){i(!0,d)}).on("click",".vp_min_cancel",function(){i(!1,d)})},i=function(b,c){a("#vp_tip").hide(),void 0!==c&&"function"==typeof c&&c(b)},j=function(){var b=a("#vp_tip"),c=e.offset(),d=b.width();120>d&&b.addClass("vp_tip_min"),d>240&&b.addClass("vp_tip_max"),b.css({top:c.top-b.outerHeight(),left:c.left-(e.outerWidth()+b.outerWidth())/2,opacity:1})},k=function(){a("body").append(g()),j(),h()};return this.each(function(){k()})}}(jQuery);